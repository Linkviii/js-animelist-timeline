<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>Animelist Timeline</title>
    <link rel="shortcut icon" type="image/x-icon" href="favicon.png">
    <link rel="stylesheet" type="text/css" href="./res/root.css">
    <link rel="stylesheet" type="text/css" href="./js/lib/jquery-ui/jquery-ui.min.css">
    <link rel="stylesheet" type="text/css" href="./js/lib/jquery-ui/jquery-ui.theme.min.css">
    <!-- <link rel="stylesheet" type="text/css" href="./js/lib/jquery-ui/jquery-ui.structure.min.css"> -->
</head>


<body>

    <div id="top">

        <header>
            This is a work in progress. About/Source/Support:
            <a href="https://github.com/linkviii/js-animelist-timeline">
                https://github.com/linkviii/js-animelist-timeline
            </a>
        </header>

        <br>

        <p>Generate a timeline of when you watched anime from dates on your AniList.</p>

        <!-- 
            Submit to an invisible iframe to prevent page refresh on submit.
            Submitting lets username autocomplete.
            https://stackoverflow.com/a/29885896/1993919
         -->

        <iframe name="ðŸ’¾" style="display:none" src="about:blank"></iframe>

        <form id="form" target="ðŸ’¾" action="about:blank">

            <fieldset style="display: inline;">
                <legend>List</legend>

                <label>Username
                    <input id="listName" spellcheck="false" required />
                </label>

                <label>Media
                    <select id="list-kind">
                        <option value="ANIME">Anime</option>
                        <option value="MANGA">Manga</option>
                    </select>
                </label>

                <!-- Only show the list for the current Media kind -->
                <fieldset id="anime-format">
                    <legend>Format</legend>
                    <!-- Copying descriptions from the api docs. Could tool tip them or something. -->
                    <!-- Anime broadcast on television -->
                    <label>TV <input type="checkbox" id="format-tv" checked></label>
                    <!-- Anime which are under 15 minutes in length and broadcast on television -->
                    <label>Short <input type="checkbox" id="format-short" checked></label>
                    <!-- Anime movies with a theatrical release -->
                    <label>Movie <input type="checkbox" id="format-movie" checked></label>
                    <!-- Special episodes that have been included in DVD/Blu-ray releases, picture dramas, pilots, etc -->
                    <label>Special <input type="checkbox" id="format-special" checked></label>
                    <!-- (Original Video Animation) Anime that have been released directly on DVD/Blu-ray without originally going through a theatrical release or television broadcast -->
                    <label>OVA <input type="checkbox" id="format-ova" checked></label>
                    <!-- (Original Net Animation) Anime that have been originally released online or are only available through streaming services. -->
                    <label>ONA <input type="checkbox" id="format-ona" checked></label>
                    <!-- Short anime released as a music video -->
                    <label>Music <input type="checkbox" id="format-music" checked></label>
                </fieldset>
                <fieldset id="manga-format">
                    <legend>Format</legend>
                    <!-- Professionally published manga with more than one chapter -->
                    <label>Manga <input type="checkbox" id="format-manga" checked></label>
                    <!-- Written books released as a series of light novels -->
                    <label>Novel <input type="checkbox" id="format-novel" checked></label>
                    <!-- Manga with just one chapter -->
                    <label>One Shot <input type="checkbox" id="format-one-shot" checked></label>
                </fieldset>

            </fieldset>

            <fieldset style="display: inline;">
                <legend>Dates (optional)</legend>

                <label>From
                    <input id="from" type="date" />
                </label>

                <label>To
                    <input id="to" type="date" />
                </label>

                <label>Focus on year
                    <input type="number" id="focus-year" size="4" placeholder="20xx">
                </label>

            </fieldset>

            <fieldset>
                <label>Language
                    <select id="language">
                        <option value="english">English</option>
                        <option value="romaji">Romaji</option>
                        <option value="native">Native</option>
                    </select>
                </label>
                <label>Seasons
                    <input id="seasons" type="checkbox" />
                </label>
            </fieldset>

            <fieldset>
                <label>Font Size
                    <input id="font-size" type="number" value="8" size="2" required />
                </label>
                <label> Width
                    <!-- <input id="width" type="number" value="1400" min="200" step="1"  size="4" required /> -->
                    <!-- Use jqueary-ui spinner for non validated step -->
                    <input id="width" value="1400" min="200" max="9999" size="4" required />
                </label>
                <input id="width-slider" type="range" style="display: block; width: 100%;">
                <!-- <p id="width-disp">val</p> -->
            </fieldset>

            <button type="submit" id="listFormSubmit" title="Submit">New Timeline</button>
            <button type="reset" title="Clear form data">Clear Form</button>

        </form>

        <span id="feedback"> </span>

        <br>



    </div>

    <!--debug out-->
    <pre id="inputOut"></pre>
    <p id="json"></p>


    <button type="button" id="clearAllTimelines" title="Remove all generated timelines" disabled>Remove all</button>

    <br>
    <br>

    <!--Generate timeline here-->
    <div id="tls"></div>


    <!---->
    <script src="js/lib/strftime.js"></script>
    <script src="js/lib/FileSaver.js"></script>
    <script src="js/lib/svg.js"></script>

    <script type="module">
        import * as main from "./js/main.js";
        window.main = main;
        console.log("main module loaded", new Date().toLocaleTimeString());
    </script>



</body>

</html>